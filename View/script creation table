DROP TABLE groupe CASCADE ;
DROP TABLE personne CASCADE ; 
DROP TABLE voyage CASCADE; 
DROP TABLE ville CASCADE; 
DROP TABLE activite CASCADE; 
DROP TABLE note CASCADE;




CREATE TABLE groupe (
	idGroupe INTEGER, 
	nomGroupe VARCHAR(30) NOT NULL, 
	nbPersonne INTEGER , 
	CONSTRAINT groupe_PK PRIMARY KEY (idGroupe)
); 

CREATE TABLE personne (
	idPersonne INTEGER, 
	nomPersonne VARCHAR(30), 
	prenomPersonne VARCHAR(30), 
	surnomPersonne VARCHAR(30),
	mdpPersonne VARCHAR(30), 
	couleurPersonne VARCHAR(9),
	CONSTRAINT personne_PK PRIMARY KEY(idPersonne)
);

CREATE TABLE voyage (
	idVoyage INTEGER,
	libeleVoyage VARCHAR(30),

	CONSTRAINT voyage_PK PRIMARY KEY(idVoyage)

);

CREATE TABLE ville (
	idVille INTEGER,
	libeleVille VARCHAR(30),
	CONSTRAINT ville_PK PRIMARY KEY (idVille)
);

CREATE TABLE activite (
	idActivite INTEGER,
	libeleActivite VARCHAR(30),
	prixActivite REAL,
	etatActivite VARCHAR(30), 
	siteOfficiel VARCHAR(1000), 
	adresseActivite VARCHAR(100),
	noteActivite INTEGER , 

	CONSTRAINT activite_PK PRIMARY KEY (idActivite)
	
);


CREATE TABLE note (
	idNote INTEGER CHECK (idNote BETWEEN 0 AND 10),

	CONSTRAINT note_PK PRIMARY KEY (idNote)
);

	
<?php
    $connStr = "host=localhost port=5432 dbname=Tomato user=Assil password=padmin ";

//simple check
$conn = pg_connect($connStr);
$result = pg_query($conn, "select * from pg_stat_activity");
var_dump(pg_fetch_all($result));

?>


$dbconn2 = pg_connect("host=localhost port=5432 dbname=marie");



	/* 
<?php
$servername = "localhost:5432";
$username = "padmin";
$password = "padmin";

// Create connection
$conn = new mysqli($servername, $username, $password);

// Check connection
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
} 
echo "Connected successfully";
?>
*/ 